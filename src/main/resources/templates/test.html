<body
  class="bg-gray-100"
  x-data="{showButtons: false, inputText: '', showModal: false}"
>
  <nav class="bg-white shadow-md">
    <div class="container mx-auto px-3">
      <div class="flex items-center justify-between py-3">
        <!-- Logo -->
        <div class="flex items-center">
          <img src="/img/spontecular-logo.png" class="h-12" alt="" />
          <a href="#" class="ml-2 text-2xl font-bold text-gray-800"
            >SpOntecular</a
          >
        </div>
        <div class="relative flex items-center">
          <button class="group text-gray-800 focus:outline-none">
            <i
              class="bi bi-gear text-4xl transition-all duration-75 group-hover:font-extrabold"
              title="Settings"
              @click="showModal = true"
            ></i>
          </button>
          <button class="group ml-2 text-gray-800 focus:outline-none">
            <i
              class="bi bi-question-circle text-4xl transition-all duration-75 group-hover:font-extrabold"
              title="Help"
            ></i>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <div
    class="container relative mx-auto my-3 flex flex-wrap items-stretch rounded-md border bg-white p-2 shadow-lg"
  >
    <div class="h-[800px] w-full lg:w-1/2" id="specificationDiv">
      <div class="h-full w-full">
        <textarea
          class="form-textarea custom-scrollbar block h-full w-full overflow-y-auto rounded-md border border-gray-200 p-2 text-sm focus:border-indigo-500 focus:outline-none"
          placeholder="Enter text here"
          name="inputText"
          x-init='inputText = &apos;Technical Satellite Speci\uFB01cation\nElisabeth Blom, Erik Narverud, Roger Birkeland\nDecember 1, 2006\nii\nList of Abbreviations\nADCS Attitude Determination and Control System\nARQ Automatic Repeat reQuest\nFEC Forward Error Correction\nFR-4 Flame Resistant 4, a PCB type\nGaAs Gallium Arsenide\nGPS Global Positioning System\nIDI Department of Computer and Information Science\nIET Department of Electronics and Telecommunications\nITK Department of Engineering Cybernetics\nLiIon Lithium-Ion\nLiPoly Lithium-Polymer\nNAROM Norwegian Centre for Space-related Education\nNTNU Norwegian University of Science and Technology\nOBDH On-Board Data Handling\nP_POD Poly Pico-satellite Orbital Deployer\nPCA Printed Circuit Assembly\nPCB Printed Circuit Board\nTT\x26C Telemetry, Tracking and Control\n\nChapter 1\nSystem Speci\uFB01cation -\nIntroduction\nThis document will give a brief overview of the required system speci\uFB01cation. Most of the detailed speci\uFB01cation are left out, they are to be defined in later student projects. Some guidelines regarding structure, mass, powe and link budgets will be pointed out.\nThe satellite will be designed according to the CubeSat speci\uFB01cation, as a double cube. It was a requirement from NAROM that satellites to be considered in the National Student Satellite Programme are to be built as a CubeSat. The decision to build a double cube has several reasons, including the obvious reason more volume, hence easier construction and room for more payload. In addition, a bigger satellite will have a greater surface, allowing mounting of more solar panels. The satellite has been planned with platform design in mind, for easier use in later missions.\n\nChapter 2\nMechanical System and\nStructure\nThere are several considerations to be made with respect to the design layout of the satellite. This section treats the mechanical and physical properties such as dimensions and mounting solutions. Although all speci\uFB01cations are not given in detail, the physical composition of the satellite is outlined in such a way that future designs can comply with them. A tentative mass budget for the entire structure has been appended, outlining the mass limits for different parts of the satellite. These are somewhat pessimistic values, allowing only 0.5 kg for payload. It is expected that all components will be designed with weight minimizing in mind, and hopefully the \uFB01nal mass will be lower than the maximum limits given in the mass budget. The budget also includes physical dimension measures, but these are very uncertain and only meant as guidance until a well defined structure layout is decided. 2.1 Chassis Dimensions and Physical Structure The chassis dimensions are decided to a large extent by the CubeSat speci\uFB01cation document. The chassis consists of a framework built in 7075-T73 or 6061-T6 aluminum. The outer rail edges must be 10 cm apart, but on each side surface there is an additional 6.5 mm of headroom for external components. The height of the chassis will be 213.5 mm, and the nadir side will be on the top or bottom end, that is, one of the two sides perpendicular to the rails. The rails will extend out from the top surface by 6.5 mm, and from the bottom surface by 7 mm, resulting in a total height of 227 mm. The total mass of the satellite must not exceed 2 kg, and the center of mass must be within 2 cm of the geometrical center. Figure 2.1 shows a conceptual drawing of the satellite. Figure 2.2 is an exploded drawing of the same structure.\n\n2.2 Sidewalls\nThe sidewalls will be made from circuit boards, most likely FR-4 or similar, as they will serve as circuit boards for the solar cell and sensor wires. This is dependent on the type of solar cells that will be used, and how these will be mounted. If double-sided circuit boards are used, the sidewalls may also serve as circuit boards for the magnetic coils of the ADCS system, as well as for internal communication and power. Each sidewall should not exceed the mass budget limit of 0.04 kg. The nadir and zenith walls have a limit of 0.03 kg each.\n\n2.3 Solar Cells\nAlthough the main problems concerning solar cells relate to the power system, there are some mechanical issues. The solar cells have to be solid enough to withstand injury during assembly and launch. They must also be of a size corresponding to the satellite surfaces in such a way that the available outer area is used to the maximum. The height of the cells are important, as low profile cells simplifies implementation and maximises the hull space of the satellite. A low profile may also make it easier to design con\uFB02ict-free antenna solutions. With these factors in mind, the maximum measurements for a single cell should not exceed, but be as close as possible to, 80x16 mm. This way, the cells can be mounted in fours, directly onto the sidewall PCBs. Commercially available cells all have sufficiently low profiles. This solution is shown in \uFB01gure 2.1.\n\n2.4 Connectors\nThe satellite will need connector(s) for pre-launch testing and charging. Prior missions have used different types of connectors depending on the number of wires needed. Solutions include Ethernet connectors and USB serial connectors. According to [4] an RJ-45 jack was used for the NCUBE project. A \"remove before flight pin\" is also required to make the satellite ready for launch. The specific type of connector(s) is yet to be determined, as the requirements are not yet decided. A mass of 0.01 kg has been allowed for the connector assembly.\n\n2.5 Internal Module Layout\nInternal modules must consist of FR-4 circuit boards or boards with similar, space approved characteristics. The maximum dimensions and mass of both PCBs and the complete module must be according to speci\uFB01cation, for which outlines are given in the mass budget. The module construction must of course be in accordance with demands regarding temperature, pressure and radiation tolerances. As shown in \uFB01gure 2.2 the modules are to be stacked vertically inside the satellite. Inter-module wiring for power and communication can be realized with a common bus connector (similar to the PC104 solution), or it may be printed on one of the sidewall circuit boards. The goal is to minimize the use of cables, as these are vulnerable to vibrations. The module circuit board can be mounted in grooves in the satellite frame, held in place by the frame structure itself. Elastic bushings may be placed in the mounting grooves, separating frame and circuit board and securing the module as well as absorbing some vibration. Such a solution is recommended, as it will minimize the need for internal fasteners, thus saving weight. Physical properties and mounting solutions are yet to be determined.\n\n2.6 Magnetic Coils\nThere are three magnetic coils used for attitude control. Each coil must be mounted perpendicular to the other two, and they are usually realized as PCB wiring loops. A possible solution is to print these coils directly on the inner sides of the sidewall circuit boards, taking into consideration the wiring for the solar panels on the outside. Although this is a recommended realization, the final technical solution of this issue is yet to be determined in the ADCS system report.\n\n2.7 Chassis Construction\nThere are several possible frame constructions, dividing the complete frame into several different pieces for assembly. There are two basic solutions, however, that stand out. One is to divide the frame along the nadir axis into four equal sides, each supporting one side rail. The other is to divide it into two sidewalls supporting two rails each, and a top and bottom part. The solution to be used is yet to be determined, decided by which of the two that inherents the least mass and offers the easiest implementation. The construction of the chassis must meet all demands listed in the Cubesat Standard Speci\uFB01cation Document. Maximum chassis weight must not exceed 0.3 kg. Figures 2.2 and 2.3 show the two different design solutions. As seen from the figures, the latter solution may yield easier, and hence more accurate production, because it\u2019s parts consist of four identical copies. However, no strength simulation or harmonic oscillation test has been performed on any of these solutions, and they are only considered as instructive concepts, at best.\n\nFigure 2.3: Alternative Frame Configuration\n2.8 Battery Mounting\nThe batteries represent a substantial part of the satellite\u2019s total mass. They should therefore be distributed equally inside the satellite, around its center of mass to increase stability. A possible solution is to use four cells, placing one cell close to each sidewall. Another possibility is a central layout, realizing the batteries as two equal modules, or a single internal module. How this mounting is to be solved, however, depends largely on the shape and size of the battery cells. Which type of battery technology to be used, as well as the physical attributes for the cell, is yet to be determined. The batteries are allowed a total mass of 0.2 kg, while the mounting is only allowed to have a mass of 0.05 kg. The mounting solution depends on the ability of the battery cells to withstand near vacuum. If they expand in low pressure, measures must be taken to prevent this, usually implying the use of metal casings to strengthen the cell walls. According to [4], such a solution was used by the NCUBE developers, and this may add to the weight of the total configuration.\n\nChapter 3\nAntenna Systems\nAntennas pose very critical mechanical challenges, as most antenna solutions, such as dipoles, must be folded out or deployed with some sort of release mechanism. This is because the CubeSat standard does not allow antennas to be folded out instantly on satellite release, ensuring that no damage will occur to the carrier satellite. As the electrical and physical properties of antennas are closely correlated, the frequency areas to be used interferes to a large extent with the mechanical solutions, and vice versa. The frequencies to be used are 145.98 MHz for uplink and downlink TTC, and 437.305 MHz for a high-speed data link. This implies fitting two antennas on the satellite, a TTC-antenna and a data link-antenna. The design phase for both antennas have already been initiated, and prototypes will hopefully be ready within the end of 2006.\n\n3.1 145 MHz Antenna\nThe TTC antenna might be realized as a half-wave dipole, constructed from thin, flexible sheet metal. The material can be a Beryllium-copper alloy or similar, forming leaf springs. The leaf spring dipole can be curved slightly to create a rigidity similar to measure tape. The antenna will be center-mounted on the outside of the satellite, and can be coiled up surrounding the solar panels, as shown in figure 3.1. The precise location of the antenna installation bracket is yet to be determined.\n\n3.2 437 MHz Antenna\nThe 437 MHz antenna will also be a half-wave dipole, but this will incorporate directivity by the use of a similarly shaped re\uFB02ector mounted 1/4 wavelength away. The mechanical solution can be quite similar to the 145 MHz antenna, as both dipole and reflector can be folded and stowed on the outside of the satellite by similar manners. The 437 MHz antenna is however restricted in it\u2019s positioning because of it\u2019s directivity. Both dipole and re\uFB02ector needs to be mounted on a sidewall, and should not interfere with the solar panels in any way. A possible solution is shown in \uFB01gure 3.2.\n\n3.3 Antenna Deployment Mechanisms\nThe deployment mechanism will consist of a nylon thread holding the antennas in place. A NiCrome wire will be wrapped around, or strapped across, the nylon thread. When the NiCrome wire is exposed to an electric current, it will give off heat, causing the nylon to melt and the antennas to be deployed. This solution has been used with success on several other missions, and presents several positive features. It is both cheap and quite reliable due to the absence of moving parts. In particular it offers a simple implementation of redundancy, as it its possible to wrap several coils of NiCrome around each nylon thread. How to implement the solution is yet to be determined in detail. One solution that has been discussed, is to fasten the nylon thread in each end of the antenna element, thus tightening the antenna around it\u2019s mountings. This will ensure that the antennas stay in place during vibration tests and launch. prototype deployment mechanism will hopefully be built and tested before the end of 2006.\n\n\nChapter 4\nPower Supply and Management System\nThe power supply and management system can be divided into three main components; the solar cells, the battery bank and the management system. The main system voltage will be about 7.2 V, but the power management system may also be able to deliver other frequently used voltages, such as 3.6 V and 1.8 V, directly. The power management system is allowed a maximum continuous power consumption of 0.25 W, sensors included. The mass budget limits are 0.06 kg for the system module, 0.2 kg for the batteries, and the total solar cell assembly must not exceed 70 g in mass.\n\n4.1 Solar Cells\nThe solar cells should supply enough power to fully charge the battery bank and power all systems for each pass. Meeting this demand ensures that there will be no risk of exhausting the batteries. The cells must present high efficiency because of the limited available area, and they have to be tolerant to large temperature variations. They should also possess a low degradation ratio with respect to the harsh conditions of space. The most commonly used cells for space applications are based on multilayer GaAs technology. Such cells can deliver Beginning-of-Life efficiency of up to 30%. Although it is desirable to use domestic solar cell technology, most Norwegian cell manufacturers base their work on silicon technology. Silicon cells cannot present more than half the efficiency ratings of GaAs technology, and they also have higher degradation ratios in space environment. Nanocrystalline (or monocrystalline) silicon cells pose higher efficiency ratings than the more common polycrystalline cells, with ratings in excess of 16%. This can be an alternative to the more expensive foreign produced GaAs cells. The conclusion is that the cells to be used must have as high as possible efficiency rating, and they must meet the given mechanical specifications. The degradation ratio must be as low as possible in order to maximize satellite lifetime. Because good cells are expensive and difficult to aquire in small quantities, the choise of cells is yet to be determined. However, an efficiency demand has been decided to be 15% Beginning-of- Life efficiency. Although this is not sufficient to support all systems con- tinously, it will supply enough energy to make several data transmissions per day. Cell arrays consisting of four, 80x16 mm GaAs solar cells, each giving about 2.3 V, can be mounted in threes on each sidewall. In addition, a single array can be \uFB01tted on the zenit side. Such a configuration can produce a panel voltage of about 9.2 V, more than sufficient for charging the batteries. Figure 2.1 shows this particular solution fitted to the satellite.\n\n4.2 Battery Bank\nOf the many battery technologies on the market, the technology most used in small satellites today is based on Lithium-Ion cells. Lithium-Polymer technology can also be used, as these cells can come in a variety of shapes because of the polymer based reactant and somewhat higher capacity. However, the LiPoly technology is prone to be less robust against varying charge currents and will lose capacity faster during cyclic charging than normal LiIon based cells. Todays LiIon cells can deliver about 150-200 Wh/kg at an unloaded voltage of 3.6 V. The cells are charged with a constant voltage of around 4.2 V. Demands to the batteries are as high power-to-weight ratios as possible, as well as excellent temperature tolerances and relatively small size. The batteries need to deliver enough current to power the satellite during eclipse, when temperatures will drop to low levels. The battery bank should have a nominal voltage of 7.2 V, and the current capacity should exceed 2 Ah, at room temperature.\n\n4.3 Power Management System\nThe power management system is a crucial part of the satellite. The system is responsible for routing the power generated by the solar cells to the different components of the satellite, depending on the operational state of the various systems. It must also keep the batteries fully charged whenever possible, insuring that when the solar cells cannot deliver suf\uFB01cient power, energy can be retrieved from the batteries. The system will most likely be realized by use of a microcontroller, as it must be able to communicate with the main computer and do somewhat complicated regulations. The power management system can be realized either as a single internal module, or incorporated into the OBDH system module. How this is to be designed is yet to be determined.\n\nChapter 5\nTelemetry, Tracking \x26 Control\nTelemetry, Tracking \x26 Control (TT\x26C) together with the On-Board Data Handling system (OBDH), is responsible for data coordination between the satellite and ground station, as well as local data management in the satellite. The two systems are to some extent interconnected and must work together even if they are designed as two separate systems. According to [1] chapter 7, a TT\x26C-system consists of two parts, a satellite and ground segment. The satellite part collect data from various sub- systems and relay these to the ground station. Also, the system must receive telecommands from the ground and relays these to the appropriate subsystem. The ground segments task is to analyze received telemetry, prepare telecommands and determine the orbit from tracking and ranging data. The satellite part can be divided into two parts, one analogue radio part, and one digital part joined with the OBDH-system. The purpose of the TT\x26C-system is to supervise the household data collected from an array of various on-board sensors, ranging from solar cell current sensors to temperature sensors. The data has to be stored by the OBDH system before being relayed to the ground station when the satellite is within range. As the satellite will be unable to perform its mission without this system operating, it should be made as simple and reliable as possible. Whether the system is to be build as a single processing unit or with voting controll incorporated, is left to be decided by the persons designing the system. In any case, the system should be build by as many standard components and methods as possible.\n\n5.1 Space Segment\nThe satellite must contain a radio system for transmitting and receiving TT\x26C commands to and from the ground. Received signals must be decoded, and commands must be relayed to the proper subsystem or compo- nent. The radio system must be able to provide requested household data to the ground station at all times. This radio system will be the \uFB01rst system powered up after orbit deployment, together with the power management system. Due to a tight schedule it might be desirable to design the radio system around off-the-shelf products, in stead of designing all radio components from scratch. This way it is possible to focus more on robustness and it may be time saving compared to designing all components. The radio system must be able to communicate with the ground careless of the orientation of the satellite in orbit, hence an omni directional antenna must be used as a TT\x26C-antenna. The future task for the present student group will be to plan the design of the radio system, and gain knowledge of how to communicate over the protocol used, i.e. AX.25. Also, a TT\x26C-coder and decoder must be designed.\n\n5.2 Sensor data\nData from a various range of sensors are required, as several systems need sensor data to function correctly. The power management system has to measure battery voltage and current from the solar panels to be able to distribute the available power among the power consuming systems. The ADCS-system will need data from magnetic sensors while calculating the satellites attitude, information from IR-sensors can be used as horizon locates. For future missions it will be useful to collect other environmental parameters like temperature data and even corrosion data if possible.\n\n5.3 Ground Station\nSeveral ground stations are needed to communicate with the satellite. The satellite will use radio amateur frequencies enabling radio amateurs all over the world to download data. Data must also be transmitted to the satellite. It will probably be possible to do this from ground stations at Svalbard and Narvik, as well as from a planned ground station at NTNU in Trondheim. Design and production of a ground station will be a task for future students. A local ground station will provide easy communication with the satellite, freeing the students form dependence upon ground stations at other locations.\n\nChapter 6\nOn-Board Data Handling\nThe OBDH-system holds the on-board computer, inter-module communication and data storage systems. According to Berlin in [1] chapter 8.2 there are two ways to design an OBDH system using either a centralized or distributed layout.\n\nIn the centralized system, each component is connected directly to the main computer and each component might have its own interface. Such a system will be easy to test and reliable for a small satellite, but the system does not offer any possibilities for expansion. It will be difficult to connect an extra payload module without reprogramming the computer. If two components are to communicate with each other, they must communicate through the main computer. The distributed layout will provide a scalable system where all components communicate over a common data bus. Designing the system this way, will ease the connection and/or removal of units without much change to the main computer software. The distributed layout will be chosen for this mission.\n\n6.1 Main Computer\nIt would probably be desirable to use a microcontroller based computer. Microcontrollers (MCU) are \uFB02exible data processors with low power consumption providing a computer platform with on-chip processor and memory. Todays marked offers a wide range of 8-bit and 32-bit microcontrollers, e.g Atmel AVR 8-bit, Atmel AVR 32-bit, ARM or PIC. When choosing a microcontroller family to use, availability, cost, power consumption, software tools and the students knowledge to this architecture should be considered, as well as interoperability with other units.\n\n6.1.1 Data Bus\nA common data bus should be developed to realize a distributed system in such a way that payload, radios and more can be mounted as expansion cards to a main board. The bus system must be designed to enable the OBDH or power management system to shut down other components if the power supply should fail. It must also be possible to shut down a failing component. The task of designing the data bus, as well as the main computer and its components will be given the following semesters. Examples of bus architectures are I C/TWI and CAN-bus. It is also important to design a mechanically stable and robust interface. Also, the design must include communication speci\uFB01cations for the other subsystems.\n\n6.2 Data storage\nThe memory implemented in the satellite must be large enough to store all the data collected by the OBDH system between transmissions. It must also incorporate some sort of Error Detection and Correction(EDAC) because of the hazardous environment. Methods for continuously checking and correcting corrupted data, often referred to as \"scrubbing\", may be employed. However, such active error correction must not draw excessive amounts of power. A solution can be to design the data storage system as a separate system with its own microcontroller, or partially integrated with the OBDH system. What type of memory technology to be used must be decided in relation to power consumption and the ability to withstand Single Event Upsets (SEUs) caused by charged particles.\n\n6.3 Power Consumption\nNeither the TT\x26C-system nor the OBDH-system should consume much power. When de\uFB01ning the system design, this must be kept in mind. Together with the power control unit, the main computer must keep watch over available and consumed power in the satellite and shut down components if necessary. The OBDH and TT\x26C-system has been allowed a total of 0.6 W, not including the radio system. 6.4 Redundancy and Error Management The whole satellite must be designed with redundancy and error management in mind. The TT\x26C and ODBH-systems are the main components in the satellite except for the radio system. The TT\x26C-system should be able to transmit a few status signals to the ground even if the OBDH system fails. Again, it is important to decide if the OBDH-system are to be designed as a single computer system or as a voting system. Considerations around complexity, reliability and power consumption must be made. Redundancy must be traded of against complexity.\n\nChapter 7\nOrbital Considerations\nAt this time the orbital parameters of the satellite are unknown. Since some knowledge of these are necessary to design the satellite, assumptions have been made in that regard.\n\n7.1 Assumptions\nThe satellite\u2019s orbit will be a low earth orbit. This orbit altitude is somewhere between 500 km and 1500 km. It is limited at the lower end by atmospheric drag. At the high end, the radiation environment becomes worse due to the \uFB01rst main Van Allen radiation belt. The inclination is assumed to lie around 90 degrees, resulting in a polar orbit.\nIn order to estimate the Doppler frequency shift and visibility for each pass, the satellite\u2019s orbital period needs to be known. For simplicity, it is assumed that the orbit is approximately circular. The orbital altitude used in the following calculations is 750 km.\n\n7.2 Satellite Visibility\nWith an orbital altitude of 750 km, using Kepler\u2019s second law, from [7]\nsection page 2.1, the satellite\u2019s orbital period becomes Torbit= 5990 seconds.\n\nWith an orbital period of 5990 seconds, the satellite\u2019s velocity is found from the equation below, to be 7.5 km/s. Combining 7.1 and 7.2, it is obvious that this velocity increases with decreasing orbital altitude.\n\nThe minimum elevation angle for which the satellite is visible then determines the time window available for radio communication with the satellite. According to table 10.4 in [7], for the assumed orbital altitude and with a suf\uFB01ciently large scan angle, the longitudal and latitudal range of the visible satellite is \xB112.8 , or approximately 25 in total. The minimum elevation angle used is 20 , which should be achievable. With a visibility of seconds. In section 8.1, this is used to estimate the amount of data which\ncan be transferred in one pass.\nThe satellite footprint and visibility with regard to probable ground station locations will be simulated using satellite tracking software. These\nground station locations are:\n\u2022 Narvik\n\u2022 Trondheim\n\u2022 Svalbard\n\n7.3 Doppler Frequency Shift\nThe relative motion of the satellite compared to the Earth causes a Doppler frequency shift in the received signal. According to [9] section 3.6, the maximum Doppler shift, for an orbital height of 750 km and for the highest carrier frequency of 437 MHz, is around \xB1 10 kHz. The frequency shift increases with increasing frequency and relative velocity. This Doppler shift must be accounted for when designing the satellite\u2019s radio system, as it causes a shift in the signal\u2019s frequency spectrum. The maximum Doppler shift is along the horizontal direction towards the ground station, and the Doppler shift is zero when the satellite is at zenith. A minimum elevation angle of 20 degrees reduces the maximum Doppler shift.\n\n7.4 Orbital Perturbations\nThe satellite orbit is subject to a number of effects causing orbit perturbations. For low earth orbits atmospheric remains also contribute to orbit deterioration [7]. Active orbit management could be done by installing small ion thrusters on the satellite, potentially increasing the satellite\u2019s lifetime. The double CubeSat platform has space available for the necessary thrusters and fuel [8], at least for a limited operation. However, due it\u2019s complexity this task is left for future projects to look into.\n\n\nChapter 8\nCommunications System\nOverview\nThe purpose of the communications system is to provide reliable functionality for the transmission of TT\x26C and payload data between the satellite and the ground. This enables monitoring of the satellite\u2019s condition, control of it\u2019s functions and the reception of payload data using ground stations. Link management is planned to be done using the amateur packet radio protocol AX.25 [10], running on the on-board data handling system. It describes link and physical layer functions as well as interfaces to upper layer protocols, managing connections to the satellite. There are not many other suitable (simple) protocols available. Several small satellite projects [5] (Cute-1, Cute-1.7, QuakeSat) have successfully used this protocol, it has a well proven track record, and at the moment there are no plans to develop a custom protocol. However, some tweaking of the protocol could be necessary for the system to operate as desired. Figure 8.1 shows a concept design of the on-board communications system.\n\n8.1 Link Descriptions\nTwo receivers and three transmitters are planned for the satellite. A 145.980 MHz transmitter and receiver with a bandwidth of 25 kHz, a 437.305 MHz transmitter and receiver (though the receiver has a secondary status) with a bandwidth of 25 kHz. In addition, a low-power morse modulated beacon will be included. Each of these links are planned to operate at 9600 bps, in half-duplex, except for the morse beacon which is planned at 1200 bps. 9600 bps should be possible, taking the maximum Doppler shift from section 7.3 into account, leaving a decent spectral dispersion factor for the \uFB01lters involved. With a visibility of around 400 seconds per pass, and assuming a modulation scheme of 1 bit per symbol, a rough estimate on the amount of data transferable over each 9600 bps link is 4 Mbit per pass. Interference issues should be investigated to determine if the two radio systems at 437 and 145 MHz can operate in unison. A link analysis of the radio system is currently underway. The frequencies have been provided by NAROM, and are pending approval from the Norwegian Post and Telecommunications Authority. For robustness, it is desirable to enable at least parts of the radio system to operate independently of the other satellite systems, only receiving power from the batteries. This way, communications can be established with the satellite even if one or more subsystems fail.\n\n8.1.1 TT\x26C Links\nThe TT\x26C uplink\u2019s duties includes the handling of sensor and payload data download requests, and recon\uFB01guration or resetting of satellite subsystems from the ground. It must also be possible to shut off transmitters on-board the satellite using this link, to comply with the CubeSat Design Speci\uFB01cation [2]. The TT\x26C uplink needs to be encrypted for security reasons. Ground stations connecting to the satellite will be put through an authentication procedure, to prevent outsiders from successfully uploading commands to the satellite. This link should also have good error protection, rejecting commands below an error tolerance level, to prevent faulty commands from being executed. To do this, it is necessary to have bit errors reported to the TT\x26C system by the OBDH. The Doppler frequency shift is smaller for 145 MHz (3 kHz) than 437 MHz (10 kHz), and thus easier for a receiver to handle, so the TT\x26C up- and downlinks uses the 145 MHz band for increased robustness. The TT\x26C downlink makes remote monitoring of the satellite possible. The link will be used to transmit housekeeping data such as sensor data and selected status signals to the ground. The TT\x26C system is integrated into the OBDH system, and receives subsystem (ADCS, Power, Thermal, Payload and Communication) sensor data and status signals from OBDH. The frame format for the transmission and reception of TT\x26C data needs to be de\uFB01ned, for command reception and telemetry transmission.\n\n8.1.2 Payload Downlink\nThe 437 MHz downlink is the primary payload downlink. It is intended to provide capacity to receive larger amounts of payload data on the ground, such as a picture.\n\n8.1.3 Backup Uplink\nA backup uplink is planned, using the 437.305 MHz antenna. This will be done to introduce redundancy to the radio system, making it possible to receive uplink commands even if the primary TT\x26C uplink at 145 MHz fails.\n\n8.1.4 Morse Downlink\nThe morse downlink will utilize the frequency band belonging to the most robust antenna solution, based on criteria like antenna deployment performance and an omnidirectional radiation pattern. It will incorporate a continuous-wave modulation scheme. If the satellite\u2019s status permits, the beacon will transmit certain chosen data such as the satellite\u2019s call sign periodically. This can be used by ground stations to locate the satellite. This link is also intended as a \uFB01nal resort at transmitting from the satellite if all else fails. Sharing an antenna with the payload downlink, the beacon will have it\u2019s own transmit ampli\uFB01er running at a lower power setting. The morse downlink makes it easy for radio amateurs to receive signals from the satellite.\n\n8.1.5 Initial Acquisition\nThe CubeSat Design Speci\uFB01cation [2] puts limitations on an initial connection procedure. The satellite can transmit at low power no sooner than 15 minutes after deployment from the P-POD. Other transmitters cannot be used until 30 minutes after deployment. This means that the beacon can be activated after 15 minutes, the other transmitters after 30 minutes.\n\n8.2 Signal Processing Considerations\nSome of the most important factors when choosing a suitable modulation scheme for a satellite are a constant signal envelope and good carrier-to- noise versus bit error rate properties. The constant envelope is desirable in order to put softer requirements on the linearity of the circuits. A differential modulation scheme is not desirable, as errors will propagate through to consecutive symbols. The wireless channel is prone to bit errors caused by interference from other radio systems and atmospheric conditions. The signal is also attenuated on it\u2019s way to and from the satellite, further degrading the signal, eventually causing bit errors. Channel coding will be used to protect the radio frequency signal against these errors. This is accomplished by introducing redundancy bits to the bit stream. The radio transmissions thus contains both information bits and code bits. The amount of uncoded data it is possible to transmit over the radio links in one pass is given by the information bit rate multiplied with the satellite\u2019s visibility time. The AX.25 protocol lacks forward error correction capabilities [10]. Thus, the possibility for embedded error correction coding should be taken into account when choosing a modem. The use of interleaving is desirable, to prevent burst errors from causing a corruption of large consecutive blocks of data. If applicable, to minimize the bit error rate the signal constellation should be grey-encoded. The radio frequency circuits in the satellite and at ground stations must be able to track and lock onto the carrier wave (carrier recovery), which can deviate by as much as 10 kHz (for the payload downlink and backup uplink) due to the Doppler frequency shift. It may also be necessary to recover symbol timing.\n\n8.3 Ground Stations\nGround stations have to be able to transmit and receive signals from the satellite using the correct FEC scheme, modem and AX.25, enabling coding and decoding of the signals using the right frame format. What differentiates the ground station\u2019s communications system from the one on-board the satellite are larger transmit emitted isotropic radiated power and better receiver sensitivity. A further improvement on the ground station\u2019s part would be to use an antenna tracking system, making the satellite visible for the ground station for a longer time period. A pseudo-random code is transmitted on the TT\x26C uplink, and retransmitted from the satellite on the TT\x26C downlink. The round trip time then provides the distance to the satellite, and it\u2019s angular location can be determined from the ground station\u2019s elevation and azimuth. Relative Doppler shift measurements can provide information on whether the satellite is moving towards or from the ground station. This is the same principle used in GPS systems [9].\n\nChapter 9\nThermal System\nThe environment in orbit, say 600 km over the Earth surface, is fundamentally different from the environment on Earth. There is no signi\uFB01cant atmo- sphere to conduct thermal energy, so all transport of thermal energy to or from a satellite will be due to radiation. In addition, the thermal environment for a satellite will change while in orbit. Deep space has a temperature of approximately 4 K, and the Sun delivers a thermal radiation of about 1.4 kW/m . For a big satellite in orbit, this could mean huge temperature differences between the illuminated side and the shaded side of the structure. A satellite in low Earth orbit will go through one eclipse each orbit causing the satellite to cool down, but it will still receive a little thermal radiation from the Earth. See [1] chapter 10.3 and [6] page 108- for more information.\n\n9.1 Thermal Limits\nDifferent electronic components have different temperature ranges in which\nthey can operate.\nTemperature range\nBattery 0 C to + 20 C\u25E6 \u25E6\nSolar cells -100 C to + 50 C\u25E6 \u25E6\nElectronics -10 C to + 60 C\u25E6 \u25E6\nIR sensors -100 C to -75 C (approximately)\u25E6 \u25E6\n\nTable 9.1: Operating Temperature Range for Some Components\nTable 9.1 is adapted from [6] and [1] with some changes. It is expected that most electronic components will allow greater values than tabulated, though this has to be further investigated. IR-sensors needs lower temperature to operate because of thermal noise. [3] In addition to solar radiation, the electronics inside the satellite, like power amplifiers and microprocessors, will generate heat to warm up heat the satellite. This heat must be conducted away from certain components if necessary. It is desirable to carry out a simulation of the environment experienced by the satellite, to see if the temperature will fall within acceptable limits.\n\n9.2 Thermal Equilibrium\nThere are two ways of controlling the thermal environment in a satellite, either by actively cooling or heating certain parts, or by passive conduction or radiation. For such a small satellite, active control will not be considered. To regulate the temperature passively, the radiation/absorption properties of the satellite must be considered. Different types of material radiates differently, and coating the satellite with different surface materials can regulate its temperature. The temperature of a surface will be given by the emission and absorption properties of the surface material. When at thermal equilibrium, the temperature is given by the equation below.\n\n\nEquation 9.1 applies when emitted power equals absorbed power. See [6] page 110. \u03B1 is the material absorption constant, \u01EB is the emission constant, C is the solar radiation constant, C = 1355 W/m , A is absorbing\na area, A is emitting area and e \u03C3 is Stefan-Boltzmanns constant. For a sphere\n\nA /A a e= 1/4. [1] page 10-6.\n\nFigure 9.1 shows a curve for equilibrium temperature derived from equation 9.1, valid for a sphere with no internal heat sources, while under solar radiation as a function of \u03B1/\u01EB. The equilibrium temperature can be derived for different material constants, hence it is possible to regulate the temperature of the satellite by its coating. For a given example, assuming a satellite covered by solar cells with \u03B1 = 0.9 and \u01EB = 0.8 (\u03B1/\u01EB = 0.89), and an internal heat source of 2 W, it is possible to calculate the equilibrium temperature taking the heat dissipation from the internal electronics into account. Also, A for this satellite must be further discussed. The value will change as the satellite moves along in the orbit. The projected shade from the satellite will define the absorbing area, see [1] page 3-10. The maximum projection is calculated to be 0.028 m , giving A /A 2 = 0.28. The minimum value, A = 0.01 m ,2 will occur when only the zenith side is illuminated. As an approximation to show the principle the ratio A /A a e= 1/4 will be used.\n\nUsing the values C = 1350 W/m , emitting area A 3 = 0.1 m , absorbing area A = 0.025 m , internal heat sources q 2 = 2 W and\u03B1and\u01EBas above, it is seen from (9.2) that the equilibrium temperature will be about 290 K. When in eclipse the satellite will not receive any radiation from the Sun, hence it will cool down. This process will depend upon \u01EB, the satellite speci\uFB01c heat c, and its total area. As an example, assuming that most of the satellite mass is aluminum, c = 900 J/kg K.\n\n\nEquation 9.3 describes the cooling process, where A is the total emit-e ting surface area, m is the satellite mass and T is the temperature at the start of the eclipse. A plot of this equation is seen in \uFB01gure 9.2. Assuming that the satellite has reached thermal equilibrium before entering the eclipse, it is seen from \uFB01gure 9.2 that the temperature of the satellite will be about \u221217 C at the end of eclipse. This is of course an ap-\u25E6 proximation, valid for a 2 kg aluminum sphere covered by solar cells. The eclipse duration is assumed to be 40 minutes. This will depend upon orbital parameters, but the number is considered realistic. All calculations are based upon equations in [1], chapter 10.3. Figure 9.2 is just an estimate. For the satellite in orbit, the parameters will be different. Solar cells will not cover the whole surface, hence some surface will be covered with a material which probably radiates less, causing the curve to be \uFB02atter. Using a lower value of A will have a great impact of the equilibrium temperature, if A = 0.02 m , T will be about 275 K causing the satellite to become quite cold at end of eclipse,\u221225 C. A\u25E6\n\nmore thorough calculation and simulation should be carried out to con\uFB01rm the thermal environment. All electronics should be able to operate within the limits outlined above, given a large enough A , although the batteries may require more insulation. Anyway, it will be important to bear heat generation in ampli\uFB01ers and microcontrollers in mind, as these cannot be allowed to over heat. 9.3 Temperature Sensors Because this satellite will not incorporate any possibilities to actively regulate its temperature, data from temperature sensors will be of great value to the mission. Temperature data should be collected from a number of locations, such as the structure, solar cells, micro controllers, batteries, radios and other electronic components. Collected data will show successive missions if the satellite design has to be changed due to the thermal environment. For example, components can be warmed up by a heating element if needed.\n\n9.4 Future Work\nIt is necessary to determine what type of sensors to use, where to measure, and how to integrate the sensors with the OBDH-system. More information about the thermal environment in low orbit should be derived and put together with tolerance values for the different components. A simulation, or more comprehensive calculations, to show expected temperature ranges would be of great value.\n\nChapter 10\nPayload\nThe double cube solution renders a larger payload capacity, both in terms of available space and electrical power. It gives grounds for future student assignments within the project\u2019s framework. The adding of a payload makes it possible to test the payload performance of the platform. However, payload inclusion must not lessen the robustness of the satellite\u2019s systems.\n\n10.1 GPS\nA GPS receiver has been suggested as a possible payload for the mission. It\u2019s function would be to assist the ADCS system and to gain accurate positions for scienti\uFB01c measurements and taken images. However, special U.S.-government approval and licensed receivers are needed to handle the signi\uFB01cant Doppler effects. Therefore, a GPS receiver payload has been abandoned for now.\n\n10.2 Camera\nA camera is intended to be included as payload with the purpose to capture an image from space, preferably of the Earth. Images captured by the satellite can be used in an outreach function to gain public interest on the project. The most desirable camera properties include a visible wavelength spectrum of 400-800 nanometers and a relatively good resolution, enabling the camera to capture recognizable features of the Earth. A higher resolution or a higher number of colors results in a larger raw image size and uses more power. The raw image size is determined by the number of pixels (resolution) multiplied with the number of bits per pixel (which determines the number of colors). There is a trade-off between image quality and transmission capacity to the ground. A solution to this problem is to transmit an image to the ground in several passes. The camera will need to include memory, to store images between passes where it\u2019s possible to transmit on the payload downlink. On a second note, a good quality image has better possibilities to subjectively mask eventual bit errors when received on the ground, permitting a lower carrier-to-noise ratio. The ADCS-system provides attitude control to orientate the camera towards the Earth. The camera\u2019s lense possibly has to be protected against short duration high intensity radiation from the sun. It is clear that a fully operational camera system is dependent on adequately functional satellite systems, in order to meet power and download capacity demands. However, it should be possible to operate the camera on a reduced power setting, not necessarily transmitting the image to the ground, only reporting that an image has been captured.\n\n10.3 Software De\uFB01ned Radio\nA software defined radio system (SDR) will be developed for the satellite. It is intended as a communications payload, more speci\uFB01cally as an experimental radio system. The goals of the system are to provide a recon\uFB01gurable radio link to or from the satellite, for instance to adapt to varying wireless channel conditions, and to implement as much as possible of the traditional analog RF-circuits in software. Necessary power and radio resources will be taken from the payload budget.&apos;'
          x-model="inputText"
        ></textarea>
      </div>
    </div>
    <div
      class="w-full space-y-3 px-6 lg:w-1/2"
      x-data="{ specificationLoaded() { return this.inputText.trim() === ''; }}"
    >
      <div id="classesDiv" class="">
        <div x-data="{ showModal: false }" class="py-1">
          <div class="space-y-3 rounded border border-gray-200 px-5 py-2">
            <h5 class="font-bold">Classes:</h5>
            <a
              @click="showModal = true"
              class="mt-3 block cursor-pointer text-indigo-700 hover:underline"
            >
              <span class="font-bold">15</span> items have been extracted.
            </a>
            <button
              class="continueButton rounded bg-gray-500 px-6 py-1 text-white shadow-md hover:bg-gray-600"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType=hierarchy"
              hx-target="#hierarchyDiv"
              type="submit"
              style="display: none"
            >
              Continue
            </button>
            <button
              class="rounded border px-2 py-1 hover:bg-gray-50"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType=classes"
              hx-target="#classesDiv"
              type="button"
            >
              <i class="bi bi-arrow-clockwise text-gray-500" title="Reload"></i>
            </button>
          </div>

          <!-- Overlay -->
          <div
            x-show="showModal"
            class="fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600 bg-opacity-50"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-300"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            style="display: none"
          >
            <div
              class="container mx-auto flex h-full items-start justify-center"
            >
              <form hx-put="/classes" hx-target="#classesDiv">
                <div
                  class="mt-10 overflow-hidden rounded bg-white shadow-lg"
                  @click.away="showModal = false"
                >
                  <div class="flex items-center justify-between px-4 py-4">
                    <h2 class="font-bold">Edit Classes:</h2>
                    <button
                      type="button"
                      class="text-black"
                      @click="showModal = false"
                    >
                      ×
                    </button>
                  </div>
                  <div class="flex justify-center px-3">
                    <div
                      class="custom-scrollbar h-[600px] w-full overflow-y-auto overflow-x-hidden"
                    >
                      <div
                        x-data="{ newClass: '', resetInput() { this.newClass = ''; } }"
                        class="flex pb-3"
                      >
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newClass"
                          placeholder="Enter new class"
                          x-model="newClass"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <button
                          type="button"
                          class="border-0 bg-gray-400 px-2 py-1 text-sm text-white hover:bg-gray-500"
                          @click="$nextTick(() => { resetInput() })"
                          hx-include="[name='newClass']"
                          hx-post="/classes"
                          hx-target="#class-container"
                          hx-swap="beforeend"
                          x-ref="addButton"
                        >
                          Add
                        </button>
                      </div>
                      <table class="divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                          <tr>
                            <th scope="col" class="table-header min-w-60">
                              Class
                            </th>
                            <th scope="col" class="table-header">Actions</th>
                          </tr>
                        </thead>

                        <tbody
                          class="divide-y divide-gray-200 bg-white"
                          id="class-container"
                        >
                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Satellite',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 0,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Satellite</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[0].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[0].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Chassis',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 1,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Chassis</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[1].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[1].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Framework',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 2,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Framework</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[2].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[2].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Rail',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 3,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Rail</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[3].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[3].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Sidewall',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 4,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Sidewall</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[4].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[4].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Circuit board',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 5,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[5].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[5].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Solar cell',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 6,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Solar cell</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[6].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[6].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Sensor wire',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 7,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Sensor wire</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[7].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[7].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Magnetic coil',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 8,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Magnetic coil</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[8].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[8].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Groove',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 9,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Groove</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[9].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[9].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Attitude Determination and Control System',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 10,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Attitude Determination and Control System</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[10].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[10].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Connector',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 11,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Connector</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[11].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[11].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Module',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 12,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Module</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[12].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[12].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Bus connector',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 13,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Bus connector</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[13].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[13].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: false,
      classItem: {
        value: 'Cable',
        blacklisted: 'false',
      },
      originalValue: '',
      index: 14,
      init() {
        this.setClass();
        this.updateHiddenInput();
      },
      save() {
        this.isEditing = false;
        this.originalValue = this.classItem.value;
        this.updateHiddenInput();
      },
      cancel() {
        this.isEditing = false;
        this.classItem.value = this.originalValue;
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.classItem.blacklisted = (this.classItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setClass();
      },
      setClass() {
        const row = $el.closest('tr');
        if (this.classItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.classItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing"
                                @click="isEditing = true; originalValue = classItem.value"
                                class="cursor-pointer"
                                x-text="classItem.value"
                                title="Click to Edit"
                                >Cable</span
                              >
                              <input
                                x-show="isEditing"
                                x-model="classItem.value"
                                @keydown.enter.prevent="save()"
                                @blur="cancel()"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="classes[14].value"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="classItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="classes[14].blacklisted"
                                value="false"
                                x-init="$el.value = classItem.blacklisted"
                              />
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <!--        Needed for indexing of new items-->
                      <input
                        type="number"
                        class="hidden"
                        name="itemsCount"
                        value="15"
                      />
                      <!--        End of comment -->
                    </div>
                  </div>

                  <div
                    class="w-100 flex items-center justify-end bg-gray-100 p-3"
                  >
                    <button
                      type="button"
                      class="mr-6 font-bold text-gray-600 hover:underline hover:decoration-2 hover:underline-offset-8"
                      @click="showModal = false"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      class="mr-6 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-700"
                      @click="showModal = false"
                    >
                      Save
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div id="hierarchyDiv" class="">
        <div x-data="{ showModal: false }" class="py-1">
          <div class="space-y-3 rounded border border-gray-200 px-5 py-2">
            <h5 class="font-bold">Hierarchy:</h5>
            <a
              @click="showModal = true"
              class="mt-3 block cursor-pointer text-indigo-700 hover:underline"
            >
              <span class="font-bold">11</span> items have been extracted.
            </a>
            <button
              class="continueButton rounded bg-gray-500 px-6 py-1 text-white shadow-md hover:bg-gray-600"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType=relations"
              hx-target="#relationsDiv"
              type="submit"
              style="display: none"
            >
              Continue
            </button>
            <button
              class="rounded border px-2 py-1 hover:bg-gray-50"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType=hierarchy"
              hx-target="#hierarchyDiv"
              type="button"
            >
              <i class="bi bi-arrow-clockwise text-gray-500" title="Reload"></i>
            </button>
          </div>

          <!-- Overlay -->
          <div
            x-show="showModal"
            class="fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600 bg-opacity-50"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-300"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            style="display: none"
          >
            <div
              class="container mx-auto flex h-full items-start justify-center"
            >
              <form hx-put="/hierarchy" hx-target="#hierarchyDiv">
                <div
                  class="mt-10 overflow-hidden rounded bg-white shadow-lg"
                  @click.away="showModal = false"
                >
                  <div class="flex items-center justify-between px-4 py-4">
                    <h2 class="font-bold">Edit Hierarchy:</h2>
                    <button
                      type="button"
                      class="text-black"
                      @click="showModal = false"
                    >
                      ×
                    </button>
                  </div>
                  <div class="flex justify-center px-3">
                    <div
                      class="custom-scrollbar h-[600px] w-full overflow-y-auto overflow-x-hidden"
                    >
                      <div
                        x-data="{
        newParentClass: '',
        newChildClass: '',
        resetInput() { this.newParentClass = ''; this.newChildClass = '';
        } }"
                        class="flex pb-3"
                      >
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newParentClass"
                          placeholder="Enter parent class"
                          x-model="newParentClass"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newChildClass"
                          placeholder="Enter child class"
                          x-model="newChildClass"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <button
                          type="button"
                          class="border-0 bg-gray-400 px-2 py-1 text-sm text-white hover:bg-gray-500"
                          @click="$nextTick(() => { resetInput() })"
                          hx-include="[name='newParentClass'], [name = 'newChildClass']"
                          hx-post="/hierarchy"
                          hx-target="#hierarchy-container"
                          hx-swap="beforeend"
                          x-ref="addButton"
                        >
                          Add
                        </button>
                      </div>
                      <table class="divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                          <tr>
                            <th scope="col" class="table-header min-w-60">
                              Parent
                            </th>
                            <th scope="col" class="table-header min-w-60">
                              Child
                            </th>
                            <th scope="col" class="table-header">Actions</th>
                          </tr>
                        </thead>

                        <tbody
                          class="divide-y divide-gray-200 bg-white"
                          id="hierarchy-container"
                        >
                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Sidewall',
        child: 'Rail',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Sidewall',
        child: 'Rail',
      },
      index: 0,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Sidewall</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[0].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Rail</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[0].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[0].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Framework',
        child: 'Chassis',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Framework',
        child: 'Chassis',
      },
      index: 1,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Framework</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[1].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Chassis</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[1].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[1].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Component',
        child: 'Framework',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Component',
        child: 'Framework',
      },
      index: 2,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Component</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[2].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Framework</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[2].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[2].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Component',
        child: 'Sidewall',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Component',
        child: 'Sidewall',
      },
      index: 3,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Component</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[3].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Sidewall</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[3].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[3].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Component',
        child: 'Circuit board',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Component',
        child: 'Circuit board',
      },
      index: 4,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Component</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[4].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[4].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[4].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Component',
        child: 'Elastic blushing',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Component',
        child: 'Elastic blushing',
      },
      index: 5,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Component</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[5].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Elastic blushing</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[5].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[5].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Circuit board',
        child: 'Double-sided circuit board',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Circuit board',
        child: 'Double-sided circuit board',
      },
      index: 6,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[6].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Double-sided circuit board</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[6].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[6].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Circuit board',
        child: 'FR-4',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Circuit board',
        child: 'FR-4',
      },
      index: 7,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[7].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >FR-4</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[7].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[7].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Circuit board',
        child: 'Printed Circuit Board',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Circuit board',
        child: 'Printed Circuit Board',
      },
      index: 8,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[8].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Printed Circuit Board</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[8].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[8].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Component',
        child: 'Connector',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Component',
        child: 'Connector',
      },
      index: 9,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Component</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[9].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Connector</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[9].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[9].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        parent: false,
        child: false
      },
      hierarchyItem: {
        parent: 'Connector',
        child: 'Bus connector',
        blacklisted: 'false',
      },
      originalValues: {
        parent: 'Connector',
        child: 'Bus connector',
      },
      index: 10,
      init() {
        this.setHierarchy();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.hierarchyItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.hierarchyItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.hierarchyItem.blacklisted = (this.hierarchyItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setHierarchy();
      },
      setHierarchy() {
        const row = $el.closest('tr');
        if (this.hierarchyItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.hierarchyItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.parent"
                                @click="isEditing.parent = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.parent"
                                title="Edit"
                                >Connector</span
                              >
                              <input
                                x-show="isEditing.parent"
                                x-model="hierarchyItem.parent"
                                @keydown.enter.prevent="save('parent')"
                                @blur="cancel('parent')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[10].parent"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.child"
                                @click="isEditing.child = true"
                                class="cursor-pointer"
                                x-text="hierarchyItem.child"
                                title="Edit"
                                >Bus connector</span
                              >
                              <input
                                x-show="isEditing.child"
                                x-model="hierarchyItem.child"
                                @keydown.enter.prevent="save('child')"
                                @blur="cancel('child')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="hierarchy[10].child"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="hierarchyItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="hierarchy[10].blacklisted"
                                value="false"
                                x-init="$el.value = hierarchyItem.blacklisted"
                              />
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <!--        Needed for indexing of new items-->
                      <input
                        type="number"
                        class="hidden"
                        name="itemsCount"
                        value="11"
                      />
                      <!--        End of comment -->
                    </div>
                  </div>

                  <div
                    class="w-100 flex items-center justify-end bg-gray-100 p-3"
                  >
                    <button
                      type="button"
                      class="mr-6 font-bold text-gray-600 hover:underline hover:decoration-2 hover:underline-offset-8"
                      @click="showModal = false"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      class="mr-6 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-700"
                      @click="showModal = false"
                    >
                      Save
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div id="relationsDiv" class="">
        <div x-data="{ showModal: false }" class="py-1">
          <div class="space-y-3 rounded border border-gray-200 px-5 py-2">
            <h5 class="font-bold">Relations:</h5>
            <a
              @click="showModal = true"
              class="mt-3 block cursor-pointer text-indigo-700 hover:underline"
            >
              <span class="font-bold">10</span> items have been extracted.
            </a>
            <button
              class="continueButton rounded bg-gray-500 px-6 py-1 text-white shadow-md hover:bg-gray-600"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType=constraints"
              hx-target="#constraintsDiv"
              type="submit"
              style="display: none"
            >
              Continue
            </button>
            <button
              class="rounded border px-2 py-1 hover:bg-gray-50"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType=relations"
              hx-target="#relationsDiv"
              type="button"
            >
              <i class="bi bi-arrow-clockwise text-gray-500" title="Reload"></i>
            </button>
          </div>

          <!-- Overlay -->
          <div
            x-show="showModal"
            class="fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600 bg-opacity-50"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-300"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            style="display: none"
          >
            <div
              class="container mx-auto flex h-full items-start justify-center"
            >
              <form hx-put="/relations" hx-target="#relationsDiv">
                <div
                  class="mt-10 overflow-hidden rounded bg-white shadow-lg"
                  @click.away="showModal = false"
                >
                  <div class="flex items-center justify-between px-4 py-4">
                    <h2 class="font-bold">Edit Relations:</h2>
                    <button
                      type="button"
                      class="text-black"
                      @click="showModal = false"
                    >
                      ×
                    </button>
                  </div>
                  <div class="flex justify-center px-3">
                    <div
                      class="custom-scrollbar h-[600px] w-full overflow-y-auto overflow-x-hidden"
                    >
                      <div
                        x-data="{
        newSubject: '',
        newPredicate: '',
        newObject: '',
        resetInput() { this.newSubject = ''; this.newPredicate = ''; this.newObject = '';
        } }"
                        class="flex pb-3"
                      >
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newSubject"
                          placeholder="Enter subject class"
                          x-model="newSubject"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newPredicate"
                          placeholder="Enter predicate"
                          x-model="newPredicate"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newObject"
                          placeholder="Enter object class"
                          x-model="newObject"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <button
                          type="button"
                          class="border-0 bg-gray-400 px-2 py-1 text-sm text-white hover:bg-gray-500"
                          @click="$nextTick(() => { resetInput() })"
                          hx-include="[name='newSubject'], [name = 'newPredicate'], [name = 'newObject']"
                          hx-post="/relations"
                          hx-target="#relations-container"
                          hx-swap="beforeend"
                          x-ref="addButton"
                        >
                          Add
                        </button>
                      </div>
                      <table class="divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                          <tr>
                            <th scope="col" class="table-header min-w-60">
                              Subject
                            </th>
                            <th scope="col" class="table-header min-w-60">
                              Predicate
                            </th>
                            <th scope="col" class="table-header min-w-60">
                              Object
                            </th>
                            <th scope="col" class="table-header">Actions</th>
                          </tr>
                        </thead>

                        <tbody
                          class="divide-y divide-gray-200 bg-white"
                          id="relations-container"
                        >
                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Chassis',
        predicate: 'consistsOf',
        object: 'Framework',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Chassis',
        predicate: 'consistsOf',
        object: 'Framework'
      },
      index: 0,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Chassis</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[0].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >consistsOf</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[0].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Framework</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[0].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[0].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Sidewall',
        predicate: 'isMadeFrom',
        object: 'Circuit board',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Sidewall',
        predicate: 'isMadeFrom',
        object: 'Circuit board'
      },
      index: 1,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Sidewall</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[1].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >isMadeFrom</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[1].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[1].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[1].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Sidewall',
        predicate: 'servesAs',
        object: 'Circuit board',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Sidewall',
        predicate: 'servesAs',
        object: 'Circuit board'
      },
      index: 2,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Sidewall</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[2].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >servesAs</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[2].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[2].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[2].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Double-sided circuit board',
        predicate: 'mayServeAs',
        object: 'Circuit board',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Double-sided circuit board',
        predicate: 'mayServeAs',
        object: 'Circuit board'
      },
      index: 3,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Double-sided circuit board</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[3].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >mayServeAs</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[3].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[3].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[3].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Solar cell',
        predicate: 'isMountedOn',
        object: 'Printed circuit board',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Solar cell',
        predicate: 'isMountedOn',
        object: 'Printed circuit board'
      },
      index: 4,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Solar cell</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[4].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >isMountedOn</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[4].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Printed circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[4].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[4].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Satellite',
        predicate: 'needs',
        object: 'Connector',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Satellite',
        predicate: 'needs',
        object: 'Connector'
      },
      index: 5,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Satellite</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[5].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >needs</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[5].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Connector</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[5].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[5].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'FR-4',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'FR-4'
      },
      index: 6,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Internal module</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[6].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >consistOf</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[6].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >FR-4</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[6].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[6].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'Circuit board',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'Circuit board'
      },
      index: 7,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Internal module</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[7].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >consistOf</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[7].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[7].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[7].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Module',
        predicate: 'isStackedInside',
        object: 'Satellite',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Module',
        predicate: 'isStackedInside',
        object: 'Satellite'
      },
      index: 8,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Module</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[8].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >isStackedInside</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[8].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Satellite</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[8].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[8].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false
      },
      relationsItem: {
        subject: 'Elastic bushing',
        predicate: 'isPlacedIn',
        object: 'Groove',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Elastic bushing',
        predicate: 'isPlacedIn',
        object: 'Groove'
      },
      index: 9,
      init() {
        this.setRelations();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.relationsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.relationsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.relationsItem.blacklisted = (this.relationsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setRelations();
      },
      setRelations() {
        const row = $el.closest('tr');
        if (this.relationsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.relationsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="relationsItem.subject"
                                title="Edit"
                                >Elastic bushing</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="relationsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[9].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="relationsItem.predicate"
                                title="Edit"
                                >isPlacedIn</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="relationsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[9].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="relationsItem.object"
                                title="Edit"
                                >Groove</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="relationsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="relations[9].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="relationsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="relations[9].blacklisted"
                                value="false"
                                x-init="$el.value = relationsItem.blacklisted"
                              />
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <!--        Needed for indexing of new items-->
                      <input
                        type="number"
                        class="hidden"
                        name="itemsCount"
                        value="10"
                      />
                      <!--        End of comment -->
                    </div>
                  </div>

                  <div
                    class="w-100 flex items-center justify-end bg-gray-100 p-3"
                  >
                    <button
                      type="button"
                      class="mr-6 font-bold text-gray-600 hover:underline hover:decoration-2 hover:underline-offset-8"
                      @click="showModal = false"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      class="mr-6 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-700"
                      @click="showModal = false"
                    >
                      Save
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div id="constraintsDiv" class="">
        <div x-data="{ showModal: false }" class="py-1">
          <div class="space-y-3 rounded border border-gray-200 px-5 py-2">
            <h5 class="font-bold">Constraints:</h5>
            <a
              @click="showModal = true"
              class="mt-3 block cursor-pointer text-indigo-700 hover:underline"
            >
              <span class="font-bold">10</span> items have been extracted.
            </a>
            <button
              class="continueButton rounded bg-gray-500 px-6 py-1 text-white shadow-md hover:bg-gray-600"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType="
              hx-target="#Div"
              type="submit"
              style="display: none"
            >
              Continue
            </button>
            <button
              class="rounded border px-2 py-1 hover:bg-gray-50"
              hx-include="[name='inputText']"
              hx-post="/featureRequest?featureType=constraints"
              hx-target="#constraintsDiv"
              type="button"
            >
              <i class="bi bi-arrow-clockwise text-gray-500" title="Reload"></i>
            </button>
          </div>

          <!-- Overlay -->
          <div
            x-show="showModal"
            class="fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600 bg-opacity-50"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-300"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            style=""
          >
            <div
              class="container mx-auto flex h-full items-start justify-center"
            >
              <form hx-put="/constraints" hx-target="#constraintsDiv">
                <div
                  class="mt-10 overflow-hidden rounded bg-white shadow-lg"
                  @click.away="showModal = false"
                >
                  <div class="flex items-center justify-between px-4 py-4">
                    <h2 class="font-bold">Edit Constraints:</h2>
                    <button
                      type="button"
                      class="text-black"
                      @click="showModal = false"
                    >
                      ×
                    </button>
                  </div>
                  <div class="flex justify-center px-3">
                    <div
                      class="custom-scrollbar h-[600px] w-full overflow-y-auto overflow-x-hidden"
                    >
                      <div
                        x-data="{
        newSubject: '',
        newPredicate: '',
        newObject: '',
        minCardinality: '',
        maxCardinality: '',
        resetInput() {
        this.newSubject = '';
        this.newPredicate = '';
        this.newObject = '';
        this.minCardinality = '';
        this.maxCardinality = ''
        }}"
                        class="flex pb-3"
                      >
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newSubject"
                          placeholder="Enter subject class"
                          x-model="newSubject"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newPredicate"
                          placeholder="Enter predicate"
                          x-model="newPredicate"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="newObject"
                          placeholder="Enter object class"
                          x-model="newObject"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="minCardinality"
                          placeholder="Min. Card."
                          x-model="minCardinality"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <input
                          type="text"
                          class="border px-4 py-1 text-sm"
                          name="maxCardinality"
                          placeholder="Max. Card."
                          x-model="maxCardinality"
                          @keydown.enter.prevent="$refs.addButton.click()"
                        />
                        <button
                          type="button"
                          class="border-0 bg-gray-400 px-2 py-1 text-sm text-white hover:bg-gray-500"
                          @click="$nextTick(() => { resetInput() })"
                          hx-include="[name='newSubject'], [name = 'newPredicate'], [name = 'newObject'], [name = 'minCardinality'], [name = 'maxCardinality']"
                          hx-post="/constraints"
                          hx-target="#constraints-container"
                          hx-swap="beforeend"
                          x-ref="addButton"
                        >
                          Add
                        </button>
                      </div>
                      <table class="divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                          <tr>
                            <th scope="col" class="table-header min-w-60">
                              Subject
                            </th>
                            <th scope="col" class="table-header min-w-60">
                              Predicate
                            </th>
                            <th scope="col" class="table-header min-w-60">
                              Object
                            </th>
                            <th scope="col" class="table-header">
                              Min.Cardinality
                            </th>
                            <th scope="col" class="table-header">
                              Max.Cardinality
                            </th>
                            <th scope="col" class="table-header">Actions</th>
                          </tr>
                        </thead>
                        <tbody
                          class="divide-y divide-gray-200 bg-white"
                          id="constraints-container"
                        >
                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Chassis',
        predicate: 'consistsOf',
        object: 'Framework',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Chassis',
        predicate: 'consistsOf',
        object: 'Framework',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 0,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Chassis</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[0].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >consistsOf</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[0].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Framework</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[0].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[0].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[0].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[0].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Sidewall',
        predicate: 'isMadeFrom',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Sidewall',
        predicate: 'isMadeFrom',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 1,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Sidewall</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[1].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >isMadeFrom</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[1].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[1].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[1].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[1].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[1].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Sidewall',
        predicate: 'servesAs',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Sidewall',
        predicate: 'servesAs',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 2,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Sidewall</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[2].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >servesAs</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[2].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[2].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[2].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[2].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[2].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Double-sided circuit board',
        predicate: 'mayServeAs',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Double-sided circuit board',
        predicate: 'mayServeAs',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 3,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Double-sided circuit board</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[3].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >mayServeAs</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[3].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[3].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[3].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[3].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[3].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Solar cell',
        predicate: 'isMountedOn',
        object: 'Printed circuit board',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Solar cell',
        predicate: 'isMountedOn',
        object: 'Printed circuit board',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 4,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Solar cell</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[4].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >isMountedOn</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[4].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Printed circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[4].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[4].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[4].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[4].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Satellite',
        predicate: 'needs',
        object: 'Connector',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Satellite',
        predicate: 'needs',
        object: 'Connector',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 5,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Satellite</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[5].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >needs</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[5].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Connector</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[5].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[5].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[5].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[5].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'FR-4',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'FR-4',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 6,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Internal module</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[6].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >consistOf</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[6].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >FR-4</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[6].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[6].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[6].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[6].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Internal module',
        predicate: 'consistOf',
        object: 'Circuit board',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 7,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Internal module</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[7].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >consistOf</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[7].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Circuit board</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[7].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[7].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[7].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[7].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Module',
        predicate: 'isStackedInside',
        object: 'Satellite',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Module',
        predicate: 'isStackedInside',
        object: 'Satellite',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 8,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Module</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[8].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >isStackedInside</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[8].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Satellite</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[8].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[8].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[8].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[8].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>

                          <tr
                            x-data="{
      isEditing: {
        subject: false,
        predicate: false,
        object: false,
        minCardinality: false,
        maxCardinality: false
      },
      constraintsItem: {
        subject: 'Elastic bushing',
        predicate: 'isPlacedIn',
        object: 'Groove',
        minCardinality: '1',
        maxCardinality: '1',
        blacklisted: 'false',
      },
      originalValues: {
        subject: 'Elastic bushing',
        predicate: 'isPlacedIn',
        object: 'Groove',
        minCardinality: '1',
        maxCardinality: '1',
      },
      index: 9,
      init() {
        this.setconstraints();
        this.updateHiddenInput();
      },
      save(field) {
        this.isEditing[field] = false;
        this.originalValues[field] = this.constraintsItem[field];
        this.updateHiddenInput();
      },
      cancel(field) {
        this.isEditing[field] = false;
        this.constraintsItem[field] = this.originalValues[field];
        this.updateHiddenInput();
      },
      toggleBlacklist() {
        this.constraintsItem.blacklisted = (this.constraintsItem.blacklisted === 'true') ? 'false' : 'true';
        this.updateHiddenInput();
        this.setconstraints();
      },
      setconstraints() {
        const row = $el.closest('tr');
        if (this.constraintsItem.blacklisted === 'true') {
          row.classList.add('bg-gray-50', 'text-gray-300');
          row.classList.remove('text-gray-900');
        } else {
          row.classList.add('text-gray-900');
          row.classList.remove('bg-gray-50', 'text-gray-300');
        }
      },
      updateHiddenInput() {
        $el.querySelector('input[type=hidden]').value = this.constraintsItem.blacklisted;
      }
    }"
                            x-init="init()"
                            class="text-gray-900"
                          >
                            <td class="table-data">
                              <span
                                x-show="!isEditing.subject"
                                @click="isEditing.subject = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.subject"
                                title="Edit"
                                >Elastic bushing</span
                              >
                              <input
                                x-show="isEditing.subject"
                                x-model="constraintsItem.subject"
                                @keydown.enter.prevent="save('subject')"
                                @blur="cancel('subject')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[9].subject"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.predicate"
                                @click="isEditing.predicate = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.predicate"
                                title="Edit"
                                >isPlacedIn</span
                              >
                              <input
                                x-show="isEditing.predicate"
                                x-model="constraintsItem.predicate"
                                @keydown.enter.prevent="save('predicate')"
                                @blur="cancel('predicate')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[9].predicate"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.object"
                                @click="isEditing.object = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.object"
                                title="Edit"
                                >Groove</span
                              >
                              <input
                                x-show="isEditing.object"
                                x-model="constraintsItem.object"
                                @keydown.enter.prevent="save('object')"
                                @blur="cancel('object')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[9].object"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.minCardinality"
                                @click="isEditing.minCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.minCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.minCardinality"
                                x-model="constraintsItem.minCardinality"
                                @keydown.enter.prevent="save('minCardinality')"
                                @blur="cancel('minCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[9].minCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <span
                                x-show="!isEditing.maxCardinality"
                                @click="isEditing.maxCardinality = true"
                                class="cursor-pointer"
                                x-text="constraintsItem.maxCardinality"
                                title="Edit"
                                >1</span
                              >
                              <input
                                x-show="isEditing.maxCardinality"
                                x-model="constraintsItem.maxCardinality"
                                @keydown.enter.prevent="save('maxCardinality')"
                                @blur="cancel('maxCardinality')"
                                type="text"
                                class="border border-gray-400 px-2 py-1 text-xs"
                                x-ref="input"
                                name="constraints[9].maxCardinality"
                                style="display: none"
                              />
                            </td>
                            <td class="table-data">
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="$el.closest('tr').remove()"
                              >
                                Delete
                              </button>
                              <button
                                type="button"
                                class="text-indigo-600 hover:text-indigo-900"
                                @click.prevent="toggleBlacklist()"
                                x-text="constraintsItem.blacklisted === 'true' ? 'De-Blacklist' : 'Blacklist'"
                              >
                                Blacklist
                              </button>
                              <input
                                type="hidden"
                                name="constraints[9].blacklisted"
                                value="false"
                                x-init="$el.value = constraintsItem.blacklisted"
                              />
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <!--        Needed for indexing of new items-->
                      <input
                        type="number"
                        class="hidden"
                        name="itemsCount"
                        value="10"
                      />
                      <!--        End of comment -->
                    </div>
                  </div>

                  <div
                    class="w-100 flex items-center justify-end bg-gray-100 p-3"
                  >
                    <button
                      type="button"
                      class="mr-6 font-bold text-gray-600 hover:underline hover:decoration-2 hover:underline-offset-8"
                      @click="showModal = false"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      class="mr-6 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-700"
                      @click="showModal = false"
                    >
                      Save
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="absolute bottom-0 right-0 mb-5 mr-5 flex items-center justify-end space-x-2"
      x-show="showButtons"
    >
      <a
        href="/restart"
        class="mr-6 font-bold text-gray-600 hover:underline hover:decoration-2 hover:underline-offset-8"
      >
        <i class="bi bi-arrow-clockwise" title="Reload"></i>
        Restart
      </a>
      <button
        type="submit"
        class="rounded bg-blue-500 px-4 py-2 text-white shadow-md hover:bg-blue-600"
      >
        Export
      </button>
    </div>
  </div>
  <form
    hx-post="/loadSpecification?specification_type=pdf"
    hx-target="#specificationDiv"
    hx-encoding="multipart/form-data"
    hx-trigger="change"
  >
    <input
      type="file"
      id="pdfFileInput"
      name="pdfFile"
      style="display: none"
      accept="application/pdf"
    />
  </form>
  <form
    hx-post="/loadSpecification?specification_type=word"
    hx-target="#specificationDiv"
    hx-encoding="multipart/form-data"
    hx-trigger="change"
  >
    <input
      type="file"
      id="wordFileInput"
      name="wordFile"
      style="display: none"
      accept=".docx"
    />
  </form>
  <div
    x-show="showModal"
    class="fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600 bg-opacity-50"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-300"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    style="display: none"
  >
    <form>
      <div class="container mx-auto flex w-1/2 items-start justify-center">
        <div
          class="mt-10 w-full overflow-hidden rounded bg-white shadow-lg"
          @click.away="showModal = false"
        >
          <div class="flex items-center justify-between px-5 py-4">
            <h2 class="text-xl">Settings</h2>
            <button type="button" class="text-black" @click="showModal = false">
              ×
            </button>
          </div>
          <div class="custom-scrollbar h-[600px] overflow-y-auto">
            <div class="divide-y divide-solid">
              <div class="flex w-full px-5 py-5 text-gray-700">
                <div class="w-1/4">
                  <p class="font-bold">Classes:</p>
                </div>
                <div class="w-3/4 text-sm">
                  <p>Definition:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="classesDefinition"
                    id="classesDefinition"
                  >
Blablabla</textarea
                  >

                  <p class="mt-2">Examples:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="classesExamples"
                    id="classesExamples"
                  ></textarea>

                  <p class="mt-2">Blacklist:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="classesBlacklist"
                    id="classesBlacklist"
                  ></textarea>
                </div>
              </div>
              <div class="flex w-full px-5 py-5 text-gray-700">
                <div class="w-1/4">
                  <p class="font-bold">Hierarchy:</p>
                </div>
                <div class="w-3/4 text-sm">
                  <p>Definition:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="hierarchyDefinition"
                    id="hierarchyDefinition"
                  >
Blablabla</textarea
                  >

                  <p class="mt-2">Examples:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="hierarchyExamples"
                    id="hierarchyExamples"
                  ></textarea>

                  <p class="mt-2">Blacklist:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="hierarchyBlacklist"
                    id="hierarchyBlacklist"
                  ></textarea>
                </div>
              </div>
              <div class="flex w-full px-5 py-5 text-gray-700">
                <div class="w-1/4">
                  <p class="font-bold">Relations:</p>
                </div>
                <div class="w-3/4 text-sm">
                  <p>Definition:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="relationsDefinition"
                    id="relationsDefinition"
                  >
Blablabla</textarea
                  >

                  <p class="mt-2">Examples:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="relationsExamples"
                    id="relationsExamples"
                  ></textarea>

                  <p class="mt-2">Blacklist:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="relationsBlacklist"
                    id="relationsBlacklist"
                  ></textarea>
                </div>
              </div>
              <div class="flex w-full px-5 py-5 text-gray-700">
                <div class="w-1/4">
                  <p class="font-bold">Constraints:</p>
                </div>
                <div class="w-3/4 text-sm">
                  <p>Definition:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="constraintsDefinition"
                    id="constraintsDefinition"
                  >
Blablabla</textarea
                  >

                  <p class="mt-2">Examples:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="constraintsExamples"
                    id="constraintsExamples"
                  ></textarea>

                  <p class="mt-2">Blacklist:</p>
                  <textarea
                    class="input w-full rounded border px-2 py-1 text-gray-700 focus:border-indigo-500 focus:outline-none"
                    style="overflow-y: auto"
                    name="constraintsBlacklist"
                    id="constraintsBlacklist"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>

          <div class="w-100 flex items-center justify-end bg-gray-100 p-3">
            <button
              type="button"
              class="mr-6 font-bold text-gray-600 hover:underline hover:decoration-2 hover:underline-offset-8"
              @click="showModal = false"
            >
              Cancel
            </button>
            <button
              type="button"
              class="mr-6 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-700"
              hx-post="/updateSettings"
              hx-swap="none"
              @click="showModal = false"
            >
              Save
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!-- Loading Indicator - Hidden by default -->
  <div
    id="loadingIndicator"
    class="fixed inset-0 z-50 flex hidden items-center justify-center bg-white bg-opacity-75"
  >
    <div
      class="h-16 w-16 animate-spin rounded-full border-4 border-blue-500 border-t-transparent border-opacity-50"
    ></div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script type="text/javascript" src="/js/scripts.js"></script>
  <script
    type="text/javascript"
    src="/webjars/alpinejs/3.13.10/dist/cdn.min.js"
  ></script>
  <script
    type="text/javascript"
    src="/webjars/htmx.org/1.9.12/dist/htmx.min.js"
  ></script>
</body>
